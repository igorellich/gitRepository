!function(t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):"undefined"!=typeof window?window.techan=t():"undefined"!=typeof global?global.techan=t():"undefined"!=typeof self&&(self.techan=t())}(function(){return function t(n,e,r){function a(o,u){if(!e[o]){if(!n[o]){var i="function"==typeof require&&require;if(!u&&i)return i(o,!0);if(c)return c(o,!0);throw new Error("Cannot find module '"+o+"'")}var s=e[o]={exports:{}};n[o][0].call(s.exports,function(t){var e=n[o][1][t];return a(e||t)},s,s.exports,t,n,e,r)}return e[o].exports}for(var c="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(t,n,e){"use strict";n.exports="0.9.0-0"},{}],2:[function(t,n,e){"use strict";n.exports=function(){var t=function(t){return t.date},n=function(t){return t.adx},e=function(t){return t.plusDi},r=function(t){return t.minusDi};function a(t){return a.r(t)}function c(){return a.d=t,a.adx=n,a.plusDi=e,a.minusDi=r,a}return a.date=function(n){return arguments.length?(t=n,c()):t},a.adx=function(t){return arguments.length?(n=t,c()):n},a.plusDi=function(t){return arguments.length?(e=t,c()):e},a.minusDi=function(t){return arguments.length?(r=t,c()):r},c()}},{}],3:[function(t,n,e){"use strict";n.exports=function(){var t=function(t){return t.date},n=function(t){return t.up},e=function(t){return t.down},r=function(t){return t.oscillator},a=function(t){return t.overbought},c=function(t){return t.oversold},o=function(t){return t.middle};function u(t){return u.r(t)}function i(){return u.d=t,u.up=n,u.down=e,u.oscillator=r,u.ob=a,u.os=c,u.m=o,u}return u.date=function(n){return arguments.length?(t=n,i()):t},u.up=function(t){return arguments.length?(n=t,i()):n},u.down=function(t){return arguments.length?(e=t,i()):e},u.oscillator=function(t){return arguments.length?(r=t,i()):r},u.overbought=function(t){return arguments.length?(a=t,i()):a},u.oversold=function(t){return arguments.length?(c=t,i()):c},u.middle=function(t){return arguments.length?(o=t,i()):o},i()}},{}],4:[function(t,n,e){"use strict";n.exports=function(){var t=function(t){return t.date},n=function(t){return t.up},e=function(t){return t.down};function r(t){return r.up(t)}function a(){return r.d=t,r.up=n,r.dn=e,r}return r.date=function(n){return arguments.length?(t=n,a()):t},r.up=function(t){return arguments.length?(n=t,a()):n},r.down=function(t){return arguments.length?(e=t,a()):e},a()}},{}],5:[function(t,n,e){"use strict";n.exports=function(){var t=function(t){return t.date},n=function(t){return t.middleBand},e=function(t){return t.upperBand},r=function(t){return t.lowerBand};function a(t){return a.r(t)}function c(){return a.d=t,a.middle=n,a.upper=e,a.lower=r,a}return a.date=function(n){return arguments.length?(t=n,c()):t},a.middle=function(t){return arguments.length?(n=t,c()):n},a.upper=function(t){return arguments.length?(e=t,c()):e},a.lower=function(t){return arguments.length?(r=t,c()):r},c()}},{}],6:[function(t,n,e){"use strict";n.exports=function(){var t=function(t,n){return arguments.length<2?t.x:(t.x=n,e)},n=function(t,n){return arguments.length<2?t.y:(t.y=n,e)};function e(t){return e.xv(t)}function r(){return e.xv=t,e.yv=n,e}return e.x=function(n){return arguments.length?(t=n,r()):t},e.y=function(t){return arguments.length?(n=t,r()):n},r()}},{}],7:[function(t,n,e){"use strict";n.exports=function(){var t=function(t){return t.date},n=function(t){return t.tenkanSen},e=function(t){return t.kijunSen},r=function(t){return t.senkouSpanA},a=function(t){return t.senkouSpanB},c=function(t){return t.chikouSpan},o=function(t){return t.parameters.tenkanSen},u=function(t){return t.parameters.kijunSen},i=function(t){return t.parameters.senkouSpanB};function s(t){return s.ts(t)}function l(){return s.d=t,s.ts=n,s.ks=e,s.sa=r,s.sb=a,s.c=c,s.pts=o,s.pks=u,s.pssb=i,s}return s.date=function(n){return arguments.length?(t=n,l()):t},s.tenkanSen=function(t){return arguments.length?(n=t,l()):n},s.kijunSen=function(t){return arguments.length?(e=t,l()):e},s.senkouSpanA=function(t){return arguments.length?(r=t,l()):r},s.senkouSpanB=function(t){return arguments.length?(a=t,l()):a},s.chikouSpan=function(t){return arguments.length?(c=t,l()):c},s.ptenanSen=function(t){return arguments.length?(o=t,l()):o},s.pkijunSen=function(t){return arguments.length?(u=t,l()):u},s.psenkouSpanB=function(t){return arguments.length?(i=t,l()):i},l()}},{}],8:[function(t,n,e){"use strict";n.exports=function(){return{atrtrailingstop:t("./atrtrailingstop"),crosshair:t("./crosshair"),ichimoku:t("./ichimoku"),macd:t("./macd"),ohlc:t("./ohlc"),rsi:t("./rsi"),trendline:t("./trendline"),value:t("./value"),volume:t("./volume"),tick:t("./tick"),trade:t("./trade"),adx:t("./adx"),aroon:t("./aroon"),stochastic:t("./stochastic"),supstance:t("./supstance"),williams:t("./williams"),bollinger:t("./bollinger")}}},{"./adx":2,"./aroon":3,"./atrtrailingstop":4,"./bollinger":5,"./crosshair":6,"./ichimoku":7,"./macd":9,"./ohlc":10,"./rsi":11,"./stochastic":12,"./supstance":13,"./tick":14,"./trade":15,"./trendline":16,"./value":17,"./volume":18,"./williams":19}],9:[function(t,n,e){"use strict";n.exports=function(){var t=function(t){return t.date},n=function(t){return t.macd},e=function(t){return t.zero},r=function(t){return t.signal},a=function(t){return t.difference};function c(t){return c.m(t)}function o(){return c.d=t,c.m=n,c.s=r,c.dif=a,c.z=e,c}return c.date=function(n){return arguments.length?(t=n,o()):t},c.macd=function(t){return arguments.length?(n=t,o()):n},c.signal=function(t){return arguments.length?(r=t,o()):r},c.difference=function(t){return arguments.length?(a=t,o()):a},o()}},{}],10:[function(t,n,e){"use strict";n.exports=function(){var t=function(t){return t.date},n=function(t){return t.open},e=function(t){return t.high},r=function(t){return t.low},a=function(t){return t.close},c=function(t){return t.volume};function o(t){return o.c(t)}function u(){return o.d=t,o.o=n,o.h=e,o.l=r,o.c=a,o.v=c,o}return o.date=function(n){return arguments.length?(t=n,u()):t},o.open=function(t){return arguments.length?(n=t,u()):n},o.high=function(t){return arguments.length?(e=t,u()):e},o.low=function(t){return arguments.length?(r=t,u()):r},o.close=function(t){return arguments.length?(a=t,u()):a},o.volume=function(t){return arguments.length?(c=t,u()):c},u()}},{}],11:[function(t,n,e){"use strict";n.exports=function(){var t=function(t){return t.date},n=function(t){return t.rsi},e=function(t){return t.overbought},r=function(t){return t.oversold},a=function(t){return t.middle};function c(t){return c.r(t)}function o(){return c.d=t,c.r=n,c.ob=e,c.os=r,c.m=a,c}return c.date=function(n){return arguments.length?(t=n,o()):t},c.rsi=function(t){return arguments.length?(n=t,o()):n},c.overbought=function(t){return arguments.length?(e=t,o()):e},c.oversold=function(t){return arguments.length?(r=t,o()):r},c.middle=function(t){return arguments.length?(a=t,o()):a},o()}},{}],12:[function(t,n,e){"use strict";n.exports=function(){var t=function(t){return t.date},n=function(t){return t.stochasticK},e=function(t){return t.stochasticD},r=function(t){return t.overbought},a=function(t){return t.oversold};function c(t){return c.r(t)}function o(){return c.d=t,c.k=n,c.sd=e,c.ob=r,c.os=a,c}return c.date=function(n){return arguments.length?(t=n,o()):t},c.stochasticK=function(t){return arguments.length?(n=t,o()):n},c.stochasticD=function(t){return arguments.length?(e=t,o()):e},c.overbought=function(t){return arguments.length?(r=t,o()):r},c.oversold=function(t){return arguments.length?(a=t,o()):a},o()}},{}],13:[function(t,n,e){"use strict";n.exports=function(){var t=function(t){return t.start},n=function(t){return t.end},e=function(t,n){return arguments.length<2?t.value:(t.value=n,r)};function r(t){return r.v(t)}function a(){return r.s=t,r.e=n,r.v=e,r}return r.start=function(n){return arguments.length?(t=n,a()):t},r.end=function(t){return arguments.length?(n=t,a()):n},r.value=function(t){return arguments.length?(e=t,a()):e},a()}},{}],14:[function(t,n,e){"use strict";n.exports=function(){var t=function(t){return t.date},n=function(t){return t.high},e=function(t){return t.low},r=function(t){return t.spread};function a(t){c()}function c(){return a.d=t,a.h=n,a.l=e,a.s=r,a}return a.date=function(n){return arguments.length?(t=n,c()):t},a.high=function(t){return arguments.length?(n=t,c()):n},a.low=function(t){return arguments.length?(e=t,c()):e},a.spread=function(t){return arguments.length?(r=t,c()):r},c()}},{}],15:[function(t,n,e){"use strict";n.exports=function(){var t=function(t){return t.date},n=function(t){return t.type},e=function(t){return t.price};function r(t){return r.p(t)}function a(){return r.d=t,r.t=n,r.p=e,r}return r.date=function(n){return arguments.length?(t=n,a()):t},r.type=function(t){return arguments.length?(n=t,a()):n},r.price=function(t){return arguments.length?(e=t,a()):e},a()}},{}],16:[function(t,n,e){"use strict";n.exports=function(){var t=function(t,n){if(arguments.length<2)return t.start.date;t.start.date=n},n=function(t,n){if(arguments.length<2)return t.start.value;t.start.value=n},e=function(t,n){if(arguments.length<2)return t.end.date;t.end.date=n},r=function(t,n){if(arguments.length<2)return t.end.value;t.end.value=n};function a(t){return a.sv(t)}function c(){return a.sd=t,a.sv=n,a.ed=e,a.ev=r,a}return a.startDate=function(n){return arguments.length?(t=n,c()):t},a.startValue=function(t){return arguments.length?(n=t,c()):n},a.endDate=function(t){return arguments.length?(e=t,c()):e},a.endValue=function(t){return arguments.length?(r=t,c()):r},c()}},{}],17:[function(t,n,e){"use strict";n.exports=function(){var t=function(t){return t.date},n=function(t,n){return arguments.length<2?t.value:(t.value=n,r)},e=function(t){return 0};function r(t){return r.v(t)}function a(){return r.d=t,r.v=n,r.z=e,r}return r.date=function(n){return arguments.length?(t=n,a()):t},r.value=function(t){return arguments.length?(n=t,a()):n},r.zero=function(t){return arguments.length?(e=t,a()):e},a()}},{}],18:[function(t,n,e){"use strict";n.exports=function(){var t=function(t){return t.date},n=function(t){return t.volume};function e(t){return e.v(t)}function r(){return e.d=t,e.v=n,e}return e.date=function(n){return arguments.length?(t=n,r()):t},e.volume=function(t){return arguments.length?(n=t,r()):n},r()}},{}],19:[function(t,n,e){"use strict";n.exports=function(){var t=function(t){return t.date},n=function(t){return t.williams};function e(t){return e.r(t)}function r(){return e.d=t,e.w=n,e}return e.date=function(n){return arguments.length?(t=n,r()):t},e.williams=function(t){return arguments.length?(n=t,r()):n},r()}},{}],20:[function(t,n,e){"use strict";function r(t,n,e,r){return e?{date:t,adx:n,plusDi:e,minusDi:r}:{date:t,adx:null,plusDi:null,minusDi:null}}n.exports=function(t,n,e,a){return function(){var c={};function o(n){var e=a().accessor(o.accessor()).period(c.period).init(),u=a().accessor(o.accessor()).period(c.period).init(),i=a().accessor(o.accessor()).period(c.period).init(),s=a().accessor(o.accessor()).period(c.period).init();return n.map(function(a,o){if(o<1)return r(c.accessor.d(a));var l=c.accessor.h(n[o])-c.accessor.h(n[o-1]),d=c.accessor.l(n[o-1])-c.accessor.l(n[o]),f=0;l>d&&l>0&&(f=l);var p=0;d>l&&d>0&&(p=d);var h=t([c.accessor.h(a)-c.accessor.l(a),Math.abs(c.accessor.h(a)-c.accessor.c(n[o-1])),Math.abs(c.accessor.l(a)-c.accessor.c(n[o-1]))]),v=e.average(f),m=u.average(p),g=i.average(h);if(o>c.period){var S=100*v/g,y=100*m/g,x=0;S-y!=0&&(x=Math.abs((S-y)/(S+y)));var w=100*s.average(x);return o>=2*c.period?r(c.accessor.d(a),w,S,y):r(c.accessor.d(a))}return r(c.accessor.d(a))}).filter(function(t){return t.adx})}return n(o,c).accessor(e()).period(14),o}}},{}],21:[function(t,n,e){"use strict";function r(t,n,e,r,a,c,o){return n?{date:t,up:n,down:e,oscillator:r,middle:a,overbought:c,oversold:o}:{date:t,up:null,down:null,oscillator:null,middle:null,overbought:null,oversold:null}}n.exports=function(t,n){return function(){var e={},a=70,c=0,o=30;function u(t){return t.map(function(n,u){if(u>=e.period-1){for(var i=0,s=0,l=1e4,d=0,f=0;f<e.period;f++)e.accessor.h(t[u-f])>i&&(i=e.accessor.h(t[u-f]),s=f),e.accessor.l(t[u-f])<l&&(l=e.accessor.l(t[u-f]),d=f);var p=(e.period-s)/e.period*100,h=(e.period-d)/e.period*100,v=p-h;return r(e.accessor.d(n),p,h,v,c,a,o)}return r(e.accessor.d(n))}).filter(function(t){return t.up})}return u.overbought=function(t){return arguments.length?(a=t,u):a},u.middle=function(t){return arguments.length?(c=t,u):c},u.oversold=function(t){return arguments.length?(o=t,u):o},t(u,e).accessor(n()).period(20),u}}},{}],22:[function(t,n,e){"use strict";function r(t,n){return n?{date:t,value:n}:{date:t,value:null}}n.exports=function(t,n,e){return function(){var a={},c=e(),o=null,u=0,i=0;function s(t){return s.init(),t.map(function(t,n){var e=s.atr(t);return n>=a.period?r(a.accessor.d(t),e):r(a.accessor.d(t))}).filter(function(t){return null!==t.value})}return s.init=function(){return c.accessor(s.accessor()).period(a.period).init(),o=null,u=0,i=0,s},s.atr=function(t){var n=null===o?a.accessor.h(t)-a.accessor.l(t):Math.max(a.accessor.h(t)-a.accessor.l(t),Math.abs(a.accessor.h(t)-a.accessor.c(o)),Math.abs(a.accessor.l(t)-a.accessor.c(o)));return o=t,u=i++<=a.period?c.average(n):(u*(a.period-1)+n)/a.period},t(s,a).accessor(n()).period(14),s}}},{}],23:[function(t,n,e){"use strict";n.exports=function(t,n,e){return function(){var r={},a=3,c=e();function o(t){return c.accessor(r.accessor).period(r.period).init(),t.map(function(t,n){var e=r.accessor.c(t),o=c.atr(t)*a;return n>=r.period?{date:r.accessor.d(t),close:e,up:e-o,down:e+o}:{date:r.accessor.d(t),up:null,down:null}}).filter(function(t){return null!==t.up&&null!==t.down}).reduce(function(t,n,e){var r=t[e-1],a=0===e?n.up:null,c=null;return r&&null!==r.up&&(n.close>r.up?a=Math.max(n.up,r.up):c=n.down),r&&null!==r.down&&(n.close<r.down?c=Math.min(n.down,r.down):a=n.up),t.push({date:n.date,up:a,down:c}),t},[])}return o.multiplier=function(t){return arguments.length?(a=t,o):a},t(o,r).accessor(n()).period(14),o}}},{}],24:[function(t,n,e){"use strict";function r(t,n,e,r){return n?{date:t,middleBand:n,upperBand:e,lowerBand:r}:{date:t,middleBand:null,upperBand:null,lowerBand:null}}n.exports=function(t,n,e){return function(){var a,c={},o=2;function u(t){var n,i=e().accessor(u.accessor()).period(c.period).init();return t.map(function(e,u){var s=i.average(c.accessor(e));if(u>=c.period){var l=0;for(n=0;n<c.period;n++)l+=Math.pow(c.accessor.c(t[u-n])-s,2);a=Math.sqrt(l/c.period);var d=s+o*a,f=s-o*a;return r(c.accessor.d(e),s,d,f)}return r(c.accessor.d(e))}).filter(function(t){return t.middleBand})}return u.sdMultiplication=function(t){return arguments.length?(o=t,u):o},t(u,c).accessor(n()).period(20),u}}},{}],25:[function(t,n,e){"use strict";n.exports=function(t,n,e){return function(){var r,a,c,o,u={};function i(t){return i.init(),t.map(s).filter(function(t){return null!==t.value})}function s(t,n){var e=i.average(u.accessor(t));return n+1<u.period&&(e=null),{date:u.accessor.d(t),value:e}}return i.init=function(){return r=null,a=e(u.period),c=0,o=0,i},i.average=function(t){return o<u.period?r=(c+=t)/++o:r+=a*(t-r)},t(i,u).accessor(n()).period(10),i}}},{}],26:[function(t,n,e){"use strict";n.exports=function(t,n,e,r){return function(){var a={};function c(t){var n;return t.map(function(t){var c={date:a.accessor.d(t),open:(void 0===n?a.accessor.o(t)+a.accessor.c(t):n.open+n.close)/2,close:(a.accessor.o(t)+a.accessor.h(t)+a.accessor.l(t)+a.accessor.c(t))/4};return c.high=r([c.open,c.close,a.accessor.h(t)]),c.low=e([c.open,c.close,a.accessor.l(t)]),void 0!==a.accessor.v&&void 0!==a.accessor.v(t)&&(c.volume=a.accessor.v(t)),n=c})}return t(c,a).accessor(n()),c}}},{}],27:[function(t,n,e){"use strict";function r(t,n){return(t+n)/2}n.exports=function(t,n){return function(){var e={},a=9,c=26,o=52;function u(t){for(var n={tenkanSen:a,kijunSen:c,senkouSpanB:o},e=new Array(t.length),r=e.length-1;r>=0;r--)e[r]=i(n,t,r);return e}function i(t,n,a){for(var c,o,u,i,s,l=n[a],d=e.accessor.l(l),f=e.accessor.h(l),p=(c=t,o=e.accessor.d(l),u=e.accessor.c(l),{parameters:c,date:o,chikouSpan:u,tenkanSen:null,kijunSen:null,senkouSpanA:null,senkouSpanB:null}),h=0,v=h+1;h<t.senkouSpanB&&a-h>=0;v=++h+1)l=n[a-h],d=Math.min(d,e.accessor.l(l)),f=Math.max(f,e.accessor.h(l)),p.tenkanSen=v===t.tenkanSen?r(d,f):p.tenkanSen,p.kijunSen=v===t.kijunSen?r(d,f):p.kijunSen,p.senkouSpanB=v===t.senkouSpanB?r(d,f):p.senkouSpanB;return p.senkouSpanA=(i=p.tenkanSen,s=p.kijunSen,null!==i&&null!==s?r(i,s):null),p}return u.tenkanSen=function(t){return arguments.length?(a=t,u):a},u.kijunSen=function(t){return arguments.length?(c=t,u):c},u.senkouSpanB=function(t){return arguments.length?(o=t,u):o},t(u,e).accessor(n()),u}}},{}],28:[function(t,n,e){"use strict";function r(t){return 2/(t+1)}function a(t){return 1/t}n.exports=function(n){var e=t("./indicatormixin")(),c=t("../accessor")(),o=t("./ema"),u=o(e,c.ohlc,r),i=t("./sma")(e,c.ohlc),s=t("./atr")(e,c.ohlc,i),l=t("../util")().circularbuffer,d=t("./sroc"),f=t("./vwap")(e,c.ohlc);return{atr:s,atrtrailingstop:t("./atrtrailingstop")(e,c.ohlc,s),ema:u,heikinashi:t("./heikinashi")(e,c.ohlc,n.min,n.max),ichimoku:t("./ichimoku")(e,c.ohlc),macd:t("./macd")(e,c.ohlc,u),rsi:t("./rsi")(e,c.ohlc,u),sma:i,wilderma:o(e,c.ohlc,a),aroon:t("./aroon")(e,c.ohlc),roc:d(l,e,c.ohlc,u,1),sroc:d(l,e,c.ohlc,u,13),stochastic:t("./stochastic")(e,c.ohlc,u),williams:t("./williams")(e,c.ohlc,u),adx:t("./adx")(n.max,e,c.ohlc,u),bollinger:t("./bollinger")(e,c.ohlc,i),vwap:f}}},{"../accessor":8,"../util":66,"./adx":20,"./aroon":21,"./atr":22,"./atrtrailingstop":23,"./bollinger":24,"./ema":25,"./heikinashi":26,"./ichimoku":27,"./indicatormixin":29,"./macd":30,"./rsi":31,"./sma":32,"./sroc":33,"./stochastic":34,"./vwap":35,"./williams":36}],29:[function(t,n,e){"use strict";n.exports=function(){return function(t,n){var e={period:function(r){return n.period=r,t.period=function(e){return arguments.length?(n.period=+e,t):n.period},t.preroll=function(){return n.period},e},accessor:function(r){return n.accessor=r,t.accessor=function(e){return arguments.length?(n.accessor=e,t):n.accessor},e},preroll:function(n){return t.preroll=n,e}};return t.preroll=function(){return 0},e}}},{}],30:[function(t,n,e){"use strict";function r(t,n,e,r,a){return n?{date:t,macd:n,signal:e,difference:r,zero:a}:{date:t,macd:null,signal:null,difference:null,zero:null}}n.exports=function(t,n,e){return function(){var a={},c=12,o=26,u=9,i=e(),s=e(),l=e();function d(t){var n=Math.max(c,o)-1,e=n+u-1;return i.accessor(d.accessor()).period(u).init(),s.accessor(d.accessor()).period(c).init(),l.accessor(d.accessor()).period(o).init(),t.map(function(t,c){var o=s.average(a.accessor(t))-l.average(a.accessor(t)),u=c>=n?i.average(o):null;return c>=e?r(a.accessor.d(t),o,u,o-u,0):r(a.accessor.d(t))}).filter(function(t){return null!==t.macd})}return d.fast=function(t){return arguments.length?(c=t,d):c},d.slow=function(t){return arguments.length?(o=t,d):o},d.signal=function(t){return arguments.length?(u=t,d):u},t(d,a).accessor(n()).preroll(d.slow),d}}},{}],31:[function(t,n,e){"use strict";function r(t,n,e,r,a){return n?{date:t,rsi:n,middle:e,overbought:r,oversold:a}:{date:t,rsi:null,middle:null,overbought:null,oversold:null}}n.exports=function(t,n,e){return function(){var a={},c=70,o=50,u=30,i=e(),s=e();function l(t){return i.accessor(l.accessor()).period(a.period).init(),s.accessor(l.accessor()).period(a.period).init(),t.map(function(n,e){if(e<1)return r(a.accessor.d(n));var l=a.accessor(n)-a.accessor(t[e-1]),d=s.average(Math.max(l,0)),f=Math.abs(i.average(Math.min(l,0)));if(e>=a.period){var p=100-100/(1+d/f);return r(a.accessor.d(n),p,o,c,u)}return r(a.accessor.d(n))}).filter(function(t){return null!==t.rsi})}return l.overbought=function(t){return arguments.length?(c=t,l):c},l.middle=function(t){return arguments.length?(o=t,l):o},l.oversold=function(t){return arguments.length?(u=t,l):u},t(l,a).accessor(n()).period(14),l}}},{}],32:[function(t,n,e){"use strict";n.exports=function(t,n){return function(){var e,r,a,c={};function o(t){return o.init(),t.map(u).filter(function(t){return null!==t.value})}function u(t,n){var e=o.average(c.accessor(t));return n+1<c.period&&(e=null),{date:c.accessor.d(t),value:e}}return o.init=function(){return a=0,e=[],r=0,o},o.average=function(t){return a+=t,e.length+1<c.period?(e.push(t),a/++r):(e.length<c.period&&(e.push(t),a+=t),a-=e[r],e[r]=t,++r===c.period&&(r=0),a/c.period)},t(o,c).accessor(n()).period(10),o}}},{}],33:[function(t,n,e){"use strict";n.exports=function(t,n,e,r,a){return function(){var c,o={},u=r().period(a);function i(t){return i.init(),t.map(s).filter(function(t){return null!==t.value})}function s(t,n){var e=i.roc(o.accessor(t));return(!c.primed()||n+1<u.period())&&(e=null),{date:o.accessor.d(t),value:e}}return i.init=function(){return u.init(),c=t(o.period),i},i.roc=function(t){return c.push(u.average(t)),(c.head()-c.last())/c.last()},i.ema=function(t){return arguments.length?(u=t,i):u},n(i,o).accessor(e()).period(21),i}}},{}],34:[function(t,n,e){"use strict";function r(t,n,e,r,a){return n?{date:t,stochasticK:n,stochasticD:e,overbought:r,oversold:a}:{date:t,stochasticK:null,stochasticD:null,overbought:r,oversold:a}}n.exports=function(t,n){return function(){var e={},a=3,c=80,o=20;function u(t){var n=u.preroll();return t.map(function(u,i){if(i>=n){for(var s=[],l=[],d=[],f=0;f<a;f++)s.push(0),l.push(1e4),d.push(0);for(var p=0,h=0;h<a;h++){for(var v=0;v<e.period;v++)e.accessor.h(t[i-v-h])>s[h]&&(s[h]=e.accessor.h(t[i-v-h])),e.accessor.l(t[i-v-h])<l[h]&&(l[h]=e.accessor.l(t[i-v-h]));var m=s[h]-l[h];d[h]=m>0?(e.accessor.c(t[i-h])-l[h])/(s[h]-l[h])*100:50,p+=d[h]}var g=d[0];return p/=a,r(e.accessor.d(u),g,p,c,o)}return r(e.accessor.d(u),null,null,c,o)}).filter(function(t){return t.stochasticK})}return u.periodD=function(t){return arguments.length?(a=+t,u):a},u.overbought=function(t){return arguments.length?(c=t,u):c},u.oversold=function(t){return arguments.length?(o=t,u):o},t(u,e).accessor(n()).period(20).preroll(function(){return e.period+a}),u}}},{}],35:[function(t,n,e){"use strict";n.exports=function(t,n){return function(){var e,r,a,c={};function o(t){return o.init(),t.map(u).filter(function(t){return null!==t.value})}function u(t,n){n>0&&a.getDate()!=c.accessor.d(t).getDate()&&(e=0,r=0);var o=(c.accessor.h(t)+c.accessor.l(t)+c.accessor.c(t))/3;return e+=o*c.accessor.v(t),r+=c.accessor.v(t),a=c.accessor.d(t),{date:c.accessor.d(t),value:e/r}}return o.init=function(){return e=0,r=0,o},t(o,c).accessor(n()).period(1),o}}},{}],36:[function(t,n,e){"use strict";function r(t,n,e,r,a){return n?{date:t,williams:n,middle:e,overbought:r,oversold:a}:{date:t,williams:null,middle:null,overbought:null,oversold:null}}n.exports=function(t,n){return function(){var e={},a=80,c=50,o=20;function u(t){return t.map(function(n,u){if(u>=e.period){for(var i=0,s=1e4,l=0;l<e.period;l++)e.accessor.h(t[u-l])>i&&(i=e.accessor.h(t[u-l]),l),e.accessor.l(t[u-l])<s&&(s=e.accessor.l(t[u-l]),l);var d=(e.accessor.c(t[u])-s)/(i-s)*100;return r(e.accessor.d(n),d,c,a,o)}return r(e.accessor.d(n))}).filter(function(t){return t.williams})}return u.overbought=function(t){return arguments.length?(a=t,u):a},u.middle=function(t){return arguments.length?(c=t,u):c},u.oversold=function(t){return arguments.length?(o=t,u):o},t(u,e).accessor(n()).period(20),u}}},{}],37:[function(t,n,e){"use strict";n.exports=function(t,n,e){return function(){var r={},a=n.pathLine(),c=n.pathLine(),o=n.pathLine();function u(t){var n=r.dataSelector(t);n.entry.append("path").attr("class","adx"),n.entry.append("path").attr("class","plusDi"),n.entry.append("path").attr("class","minusDi"),u.refresh(t)}function i(){a.init(r.accessor.d,r.xScale,r.accessor.adx,r.yScale),c.init(r.accessor.d,r.xScale,r.accessor.plusDi,r.yScale),o.init(r.accessor.d,r.xScale,r.accessor.minusDi,r.yScale)}return u.refresh=function(t){var n,e,u,i;n=r.dataSelector.select(t),e=a,u=c,i=o,n.select("path.adx").attr("d",e),n.select("path.plusDi").attr("d",u),n.select("path.minusDi").attr("d",i)},e(u,r).plot(t(),i).dataSelector(e.dataMapper.array),i(),u}}},{}],38:[function(t,n,e){"use strict";n.exports=function(t,n,e){return function(){var r={},a=n.pathLine(),c=n.pathArea(),o=n.pathLine(),u=n.pathLine(),i=n.pathLine();function s(t){var n=r.dataSelector(t);n.entry.append("path").attr("class","overbought"),n.entry.append("path").attr("class","oversold"),n.entry.append("path").attr("class","aroon oscillator"),n.entry.append("path").attr("class","aroon oscillatorArea"),n.entry.append("path").attr("class","aroon middle"),n.entry.append("path").attr("class","aroon up"),n.entry.append("path").attr("class","aroon down"),s.refresh(t)}function l(){a.init(r.accessor.d,r.xScale,r.accessor.oscillator,r.yScale),c.init(r.accessor.d,r.xScale,r.accessor.oscillator,r.yScale,0),o.init(r.accessor.d,r.xScale,r.accessor.m,r.yScale),u.init(r.accessor.d,r.xScale,r.accessor.up,r.yScale),i.init(r.accessor.d,r.xScale,r.accessor.down,r.yScale)}return s.refresh=function(t){var e,s,l,d,f,p,h,v,m,g;e=r.dataSelector.select(t),s=r.accessor,l=r.xScale,d=r.yScale,f=n,p=a,h=c,v=o,m=u,g=i,e.select("path.overbought").attr("d",f.horizontalPathLine(s.d,l,s.ob,d)),e.select("path.oversold").attr("d",f.horizontalPathLine(s.d,l,s.os,d)),e.select("path.aroon.oscillator").attr("d",p),e.select("path.aroon.oscillatorArea").attr("d",h),e.select("path.aroon.middle").attr("d",v),e.select("path.aroon.up").attr("d",m),e.select("path.aroon.down").attr("d",g)},e(s,r).plot(t(),l).dataSelector(e.dataMapper.array),l(),s}}},{}],39:[function(t,n,e){"use strict";n.exports=function(t,n,e){return function(){var r={},a=n.pathLine(),c=n.pathLine();function o(t){var n=r.dataSelector(t);n.entry.append("path").attr("class","up"),n.entry.append("path").attr("class","down"),o.refresh(t)}function u(){a.init(r.accessor.d,r.xScale,r.accessor.up,r.yScale),c.init(r.accessor.d,r.xScale,r.accessor.dn,r.yScale)}return o.refresh=function(t){var n,e,o;n=r.dataSelector.select(t),e=a,o=c,n.select("path.up").attr("d",e),n.select("path.down").attr("d",o)},e(o,r).plot(t(),u).dataSelector(e.dataMapper.array),u(),o}}},{}],40:[function(t,n,e){"use strict";function r(t,n,e,r,c){var o=e.scale();switch(r){case"left":case"right":t.attr("x",c*(Math.max(e.tickSizeInner(),0)+e.tickPadding())).attr("y",a(n,o)).attr("dy",".32em").style("text-anchor",c<0?"end":"start");break;case"top":case"bottom":t.attr("x",a(n,o)).attr("y",c*(Math.max(e.tickSizeInner(),0)+e.tickPadding())).attr("dy",c<0?"0em":".72em").style("text-anchor","middle")}}function a(t,n){return function(e){return n(t(e))}}n.exports=function(t,n,e,a,c){return function(){var a,o={},u=t(n()),i=14,s=50,l=[0,0],d="bottom";function f(t){var n,e,r=o.dataSelector.mapper((n=o.accessor,e=u.scale(),function(t){var r=e.range(),a=r[0],c=r[r.length-1];return r=a<c?[a,c]:[c,a],t.filter(function(t){if(null===n(t)||void 0===n(t))return!1;var a=e(n(t));return null!==a&&!isNaN(a)&&r[0]<=a&&a<=r[1]})}))(t);r.entry.append("path"),r.entry.append("text"),f.refresh(t)}return f.refresh=function(t){var n,e,c,f,p,h,v,m,g,S,y,x,w,k,b,M,L,D,z,A=a||(u.tickFormat()?u.tickFormat():u.scale().tickFormat());n=o.dataSelector.select(t),e=o.accessor,c=u,p=A,h=i,v=s,m=4,g=l,S="left"===(f=d)||"top"===f?-1:1,n.attr("transform","translate("+g[0]+","+g[1]+")"),n.select("path").attr("d",(w=e,k=c,b=f,M=h,L=v,D=m,z=S,function(t){var n=k.scale(),e=n(w(t)),r=D;switch(b){case"left":case"right":var a=0;return M/2<D?r=M/2:a=M/2-D,"M 0 "+e+" l "+z*Math.max(k.tickSizeInner(),1)+" "+-r+" l 0 "+-a+" l "+z*L+" 0 l 0 "+M+" l "+z*-L+" 0 l 0 "+-a;case"top":case"bottom":var c=0;return L/2<D?r=L/2:c=L/2-D,"M "+e+" 0 l "+-r+" "+z*Math.max(k.tickSizeInner(),1)+" l "+-c+" 0 l 0 "+z*M+" l "+L+" 0 l 0 "+z*-M+" l "+-c+" 0";default:throw"Unsupported orient value: axisannotation.orient("+b+"). Set to one of: 'top', 'bottom', 'left', 'right'"}})),n.select("text").text((y=e,x=p,function(t){return x(y(t))})).call(r,e,c,f,S)},f.axis=function(t){return arguments.length?(u=t,f):u},f.orient=function(t){return arguments.length?(d=t,f):d},f.format=function(t){return arguments.length?(a=t,f):a},f.height=function(t){return arguments.length?(i=t,f):i},f.width=function(t){return arguments.length?(s=t,f):s},f.translate=function(t){return arguments.length?(l=t,f):l},c(f,o).accessor(e()).dataSelector(),f}}},{}],41:[function(t,n,e){"use strict";n.exports=function(t,n,e){return function(){var r={},a=n.pathLine(),c=n.pathLine(),o=n.pathLine();function u(t){var n=r.dataSelector(t);n.entry.append("path").attr("class","upper"),n.entry.append("path").attr("class","middle"),n.entry.append("path").attr("class","lower"),n.entry.append("path").attr("class","band"),u.refresh(t)}function i(){a.init(r.accessor.d,r.xScale,r.accessor.upper,r.yScale),c.init(r.accessor.d,r.xScale,r.accessor.middle,r.yScale),o.init(r.accessor.d,r.xScale,r.accessor.lower,r.yScale)}return u.refresh=function(t){!function(t,n,e,r){t.select("path.upper").attr("d",n),t.select("path.middle").attr("d",e),t.select("path.lower").attr("d",r);var a=function(t){var n,e=t.select("path.upper").attr("d"),r=t.select("path.lower").attr("d"),a=[],c=e,o=String(r).split("C"),u=o[o.length-1].split(",");c+="L"+u[4]+","+u[5],o.reverse(),o.forEach(function(t){"M"==t.substr(0,1)?n=t.substr(1):(a=t.split(","),c+="C"+a[4]+","+a[5]+","+a[2]+","+a[3]+","+a[0]+","+a[1])}),c+="L"+n;var i=String(e).split("C");return c+="L"+i[0].substr(1)}(t);t.select("path.band").attr("d",a)}(r.dataSelector.select(t),a,c,o)},e(u,r).plot(t(),i).dataSelector(e.dataMapper.array),i(),u}}},{}],42:[function(t,n,e){"use strict";n.exports=function(t,n,e,r,a){return function(){var t,n,c,o={};function u(t){var n=o.dataSelector(t);r.appendPathsUpDownEqual(n.selection,o.accessor,["candle","body"]),r.appendPathsUpDownEqual(n.selection,o.accessor,["candle","wick"]),u.refresh(t)}function i(){t=r.joinPath(s),n=r.joinPath(l),c=r.scaledStrokeWidth(o.xScale,1,4)}function s(){var t=o.accessor,n=o.xScale,e=o.yScale,r=o.width(n);return function(a){var c=e(t.o(a)),o=e(t.c(a)),u=n(t.d(a))-r/2,i="M "+u+" "+c+" l "+r+" 0";return c!=o&&(i+=" L "+(u+r)+" "+o+" l "+-r+" 0 L "+u+" "+c),i}}function l(){var t=o.accessor,n=o.xScale,e=o.yScale,r=o.width(n);return function(a){var c=e(t.o(a)),o=e(t.c(a)),u=n(t.d(a)),i=u-r/2,s="M "+u+" "+e(t.h(a))+" L "+u+" "+Math.min(c,o);return c==o&&(s+=" M "+i+" "+c+" l "+r+" 0"),s+" M "+u+" "+Math.max(c,o)+" L "+u+" "+e(t.l(a))}}return u.refresh=function(e){e.selectAll("path.candle.body").attr("d",t),e.selectAll("path.candle.wick").attr("d",n).style("stroke-width",c)},a(u,o).plot(e(),i).width(i).dataSelector(a.dataMapper.array),i(),u}}},{}],43:[function(t,n,e){"use strict";n.exports=function(t,n,e,r,a,c,o){return function(){var t,n,u,i,s={},l=r("enter","out","move"),d=c.plotComposer().scope("composed-annotation").plotScale(function(t){return t.axis().scale()}),f=c.plotComposer().scope("composed-annotation").plotScale(function(t){return t.axis().scale()});function p(t){var n=s.dataSelector(t);n.entry.append("path").attr("class","horizontal wire"),n.entry.append("path").attr("class","vertical wire"),n.entry.append("g").attr("class","axisannotation x").call(d),n.entry.append("g").attr("class","axisannotation y").call(f),t.selectAll("rect").data([void 0]).enter().append("rect").style("fill","none").style("pointer-events","all"),p.refresh(t)}function h(e,r,a,c,o){var u=e.node().__coord__;if(void 0!==u){var i=e.datum(),p=s.xScale.invert(u[0]),h=s.yScale.invert(u[1]),v=null!==p&&null!==h&&(s.accessor.xv(i)!==p||s.accessor.yv(i)!==h);s.accessor.xv(i,p),s.accessor.yv(i,h),v&&l.call("move",e.node(),i)}r.attr("d",t),a.attr("d",n),c.call(d.refresh),o.call(f.refresh),e.attr("display",S)}function v(){return d.accessor(s.accessor.xv).scale(s.xScale),f.accessor(s.accessor.yv).scale(s.yScale),p}function m(t){return t=t||{},s.accessor.xv(t,null),s.accessor.yv(t,null),t}function g(t){return void 0===t||null===s.accessor.xv(t)||null===s.accessor.yv(t)}function S(t){return g(t)?"none":null}return p.refresh=function(r){var a,c,o,d,f,p,v,g=s.xScale.range(),S=s.yScale.range(),y=s.dataSelector.select(r),x=y.select("path.vertical"),w=y.select("path.horizontal"),k=y.select("g.axisannotation.x"),b=y.select("g.axisannotation.y");a=u||s.yScale.range(),t=function(t){if(null===s.accessor.xv(t))return null;var n=s.xScale(s.accessor.xv(t)),e=s.xScale.range();return n<Math.min(e[0],e[e.length-1])||n>Math.max(e[0],e[e.length-1])?null:"M "+n+" "+a[0]+" L "+n+" "+a[a.length-1]},c=i||s.xScale.range(),n=function(t){if(null===s.accessor.yv(t))return null;var n=s.yScale(s.accessor.yv(t));return isNaN(n)?null:"M "+c[0]+" "+n+" L "+c[c.length-1]+" "+n},r.selectAll("rect").attr("x",Math.min.apply(null,g)).attr("y",Math.min.apply(null,S)).attr("height",Math.abs(S[S.length-1]-S[0])).attr("width",Math.abs(g[g.length-1]-g[0])).on("mouseenter",function(){l.call("enter",this)}).on("mouseout",function(){l.call("out",this),delete y.node().__coord__,m(y.datum()),h(y,x,w,k,b)}).on("mousemove",(o=y,d=x,f=w,p=k,v=b,function(){o.node().__coord__=e(this),h(o,d,f,p,v)})),h(y,x,w,k,b)},p.xAnnotation=function(t){return arguments.length?(d.plots(t instanceof Array?t:[t]),v()):d.plots()},p.yAnnotation=function(t){return arguments.length?(f.plots(t instanceof Array?t:[t]),v()):f.plots()},p.verticalWireRange=function(t){return arguments.length?(u=t,v()):u},p.horizontalWireRange=function(t){return arguments.length?(i=t,v()):i},o(p,s).plot(a(),v).dataSelector(function(t){return g(t)?[m()]:[t]}).on(l),s.dataSelector.scope("crosshair"),v()}}},{}],44:[function(t,n,e){"use strict";function r(){return Math.random().toString(36).substr(2,9)}n.exports=function(t,n,e,a,c){return function(){var o={},u=t().curve(n).defined(function(t){return null!==o.accessor.sb(t)}).x(function(t){return o.xScale(o.accessor.d(t),o.accessor.pks(t))}).y0(function(t){return o.yScale(o.accessor.sb(t))}),i=t().curve(n).defined(function(t){return null!==o.accessor.sa(t)&&null!==o.accessor.sb(t)}).x(function(t){return o.xScale(o.accessor.d(t),o.accessor.pks(t))}).y0(function(t){return o.yScale(o.accessor.sa(t))}).y1(function(t){return o.yScale(o.accessor.sb(t))}),s=a.pathLine(),l=a.pathLine(),d=a.pathLine(),f=a.pathLine(),p=a.pathLine();function h(t){var n=o.dataSelector(t),e="kumoclipup-"+r(),a="kumoclipdown-"+r();n.entry.append("clipPath").attr("id",a).attr("class","kumoclipdown").append("path"),n.entry.append("clipPath").attr("id",e).attr("class","kumoclipup").append("path"),n.entry.append("path").attr("class","kumo down").attr("clip-path","url(#"+a+")"),n.entry.append("path").attr("class","kumo up").attr("clip-path","url(#"+e+")"),n.entry.append("path").attr("class","senkouspanb"),n.entry.append("path").attr("class","senkouspana"),n.entry.append("path").attr("class","chikouspan"),n.entry.append("path").attr("class","kijunsen"),n.entry.append("path").attr("class","tenkansen"),h.refresh(t)}function v(){var t;s.init(o.accessor.d,o.xScale,o.accessor.sa,o.yScale,o.accessor.pks),l.init(o.accessor.d,o.xScale,o.accessor.sb,o.yScale,o.accessor.pks),d.init(o.accessor.d,o.xScale,o.accessor.c,o.yScale,(t=o.accessor.pks,function(n){return-t(n)})),f.init(o.accessor.d,o.xScale,o.accessor.ts,o.yScale),p.init(o.accessor.d,o.xScale,o.accessor.ks,o.yScale)}return h.refresh=function(t){var n,e;n=o.dataSelector.select(t),e=o.yScale,n.select(".kumoclipdown path").attr("d",u.y1(e.range()[0])),n.select(".kumoclipup path").attr("d",u.y1(e.range()[1])),n.select("path.kumo.down").attr("d",i),n.select("path.kumo.up").attr("d",i),n.select("path.senkouspanb").attr("d",l),n.select("path.senkouspana").attr("d",s),n.select("path.chikouspan").attr("d",d),n.select("path.kijunsen").attr("d",p),n.select("path.tenkansen").attr("d",f)},c(h,o).plot(e(),v).dataSelector(c.dataMapper.array),v(),h}}},{}],45:[function(t,n,e){"use strict";function r(){return d3.event}n.exports=function(n){var e=t("../scale")(n),a=t("../accessor")(),c=t("./plot")(n.line,n.area,n.curveMonotoneX,n.select),o=t("../util")().functor,u=t("./plotmixin")(n.scaleLinear,o,e.financetime,c.dataSelector,c.barWidth),i=t("./candlestick")(n.scaleLinear,n.extent,a.ohlc,c,u),s=t("./line"),l=t("./axisannotation")(n.axisTop,n.scaleLinear,a.value,c,u),d=t("../svg")(n);return{adx:t("./adx")(a.adx,c,u),aroon:t("./aroon")(a.aroon,c,u),atr:s(a.value,c,u),atrtrailingstop:t("./atrtrailingstop")(a.atrtrailingstop,c,u),axisannotation:l,bollinger:t("./bollinger")(a.bollinger,c,u),candlestick:i,close:s(a.ohlc,c,u),crosshair:t("./crosshair")(n.select,r,n.mouse,n.dispatch,a.crosshair,c,u),ema:s(a.value,c,u),heikinashi:i,ichimoku:t("./ichimoku")(n.area,n.curveMonotoneX,a.ichimoku,c,u),macd:t("./macd")(a.macd,c,u),momentum:s(a.value,c,u,!0),moneyflow:s(a.value,c,u,!0),ohlc:t("./ohlc")(n.scaleLinear,n.extent,a.ohlc,c,u),roc:s(a.value,c,u,!0),rsi:t("./rsi")(a.rsi,c,u),sma:s(a.value,c,u),sroc:s(a.value,c,u,!0),stochastic:t("./stochastic")(a.stochastic,c,u),supstance:t("./supstance")(n.drag,r,n.select,n.dispatch,a.supstance,c,u),tick:t("./tick")(n.scaleLinear,n.extent,a.tick,c,u),tradearrow:t("./tradearrow")(n.select,o,n.mouse,n.dispatch,a.trade,c,u,d.arrow),trendline:t("./trendline")(n.drag,r,n.select,n.dispatch,a.trendline,c,u),volume:t("./volume")(a.volume,c,u),vwap:s(a.value,c,u),wilderma:s(a.value,c,u),williams:t("./williams")(a.williams,c,u)}}},{"../accessor":8,"../scale":60,"../svg":63,"../util":66,"./adx":37,"./aroon":38,"./atrtrailingstop":39,"./axisannotation":40,"./bollinger":41,"./candlestick":42,"./crosshair":43,"./ichimoku":44,"./line":46,"./macd":47,"./ohlc":48,"./plot":49,"./plotmixin":50,"./rsi":51,"./stochastic":52,"./supstance":53,"./tick":54,"./tradearrow":55,"./trendline":56,"./volume":57,"./williams":58}],46:[function(t,n,e){"use strict";n.exports=function(t,n,e,r){return r=r||!1,function(){var a={},c=n.pathLine();function o(t){var n=a.dataSelector(t);n.entry.append("path").attr("class","line"),r&&n.selection.append("path").attr("class","zero"),o.refresh(t)}function u(){c.init(a.accessor.d,a.xScale,a.accessor,a.yScale)}return o.refresh=function(t){var e,o,u,i,s,l,d;e=a.dataSelector.select(t),o=a.accessor,u=a.xScale,i=a.yScale,s=n,l=c,d=r,e.select("path.line").attr("d",l),d&&e.select("path.zero").attr("d",s.horizontalPathLine(o.d,u,o.z,i))},e(o,a).plot(t(),u).dataSelector(e.dataMapper.array),u(),o}}},{}],47:[function(t,n,e){"use strict";n.exports=function(t,n,e){return function(){var r,a={},c=n.pathLine(),o=n.pathLine();function u(t){var n=a.dataSelector(t);n.selection.append("path").attr("class","difference"),n.selection.append("path").attr("class","zero"),n.selection.append("path").attr("class","macd"),n.selection.append("path").attr("class","signal"),u.refresh(t)}function i(){r=n.joinPath(s),c.init(a.accessor.d,a.xScale,a.accessor.m,a.yScale),o.init(a.accessor.d,a.xScale,a.accessor.s,a.yScale)}function s(){var t=a.accessor,n=a.xScale,e=a.yScale,r=a.width(n);return function(a){var c=e(0),o=e(t.dif(a))-c;return"M "+(n(t.d(a))-r/2)+" "+c+" l 0 "+o+" l "+r+" 0 l 0 "+-o}}return u.refresh=function(t){var e,u,i,s,l,d,f,p;e=a.dataSelector.select(t),u=a.accessor,i=a.xScale,s=a.yScale,l=n,d=r,f=c,p=o,e.select("path.difference").attr("d",d),e.select("path.zero").attr("d",l.horizontalPathLine(u.d,i,u.z,s)),e.select("path.macd").attr("d",f),e.select("path.signal").attr("d",p)},e(u,a).plot(t(),i).width(i).dataSelector(e.dataMapper.array),i(),u}}},{}],48:[function(t,n,e){"use strict";n.exports=function(t,n,e,r,a){return function(){var t,n,c={};function o(t){r.appendPathsUpDownEqual(c.dataSelector(t).selection,c.accessor,"ohlc"),o.refresh(t)}function u(){t=r.joinPath(i),n=r.scaledStrokeWidth(c.xScale,1,2)}function i(){var t=c.accessor,n=c.xScale,e=c.yScale,r=c.width(n);return function(a){var c=e(t.o(a)),o=e(t.c(a)),u=n(t.d(a));return"M "+(u-r/2)+" "+c+" l "+r/2+" 0 M "+u+" "+e(t.h(a))+" L "+u+" "+e(t.l(a))+" M "+u+" "+o+" l "+r/2+" 0"}}return o.refresh=function(e){e.selectAll("path.ohlc").attr("d",t).style("stroke-width",n)},a(o,c).plot(e(),u).width(u).dataSelector(a.dataMapper.array),u(),o}}},{}],49:[function(t,n,e){"use strict";n.exports=function(t,n,e,r){var a=function(t){var n,e,r=["data"];function a(e){var c=a.select(e).data(t,n),o=c.enter().append("g").attr("class",i(r," "));return c.exit().remove(),{entry:o,selection:o.merge(c)}}return a.select=function(t){return t.selectAll("g."+i(r,"."))},a.mapper=function(n){return arguments.length?(t=n,a):t},a.scope=function(t){return arguments.length?(r=["data","scope-"+(e=t)],a):e},a.key=function(t){return arguments.length?(n=t,a):n},a};function c(t){return{up:function(n){return t.o(n)<t.c(n)},down:function(n){return t.o(n)>t.c(n)},equal:function(n){return t.o(n)===t.c(n)}}}function o(t,n,e,r){var a=e instanceof Array?e:[e];r=r||c(n),Object.keys(r).forEach(function(n){var e,c,o,u;e=t,c=r[n],o=a,u=n,e.selectAll("path."+i(o,".")+"."+u).data(function(t){return[t.filter(c)]}).enter().append("path").attr("class",i(o," ")+" "+u)})}function u(t){return void 0!==t.band?Math.max(t.band(),1):3}function i(t,n){if(t.length){for(var e=t[0],r=1;r<t.length;r++)e+=n+t[r];return e}}return a.mapper={unity:function(t){return t},array:function(t){return[t]}},{dataSelector:a,appendPathsGroupBy:o,appendPathsUpDownEqual:function(t,n,e){o(t,n,e,c(n))},horizontalPathLine:function(t,n,e,r){return function(a){if(!a.length)return null;var c=a[0],o=a[a.length-1];return"M "+n(t(c))+" "+r(e(c))+" L "+n(t(o))+" "+r(e(o))}},pathLine:function(){var n=t().curve(e);function r(t){return n(t)}return r.init=function(t,e,r,a,c){return n.defined(function(t){return null!==r(t)}).x(function(n){return e(t(n),void 0===c?c:c(n))}).y(function(t){return a(r(t))})},r.d3=function(){return n},r},pathArea:function(){var t=n().curve(e);function r(n){return t(n)}return r.init=function(n,e,r,a,c){return t.defined(function(t){return null!==r(t)}).x(function(t){return e(n(t))}).y0(function(t){return a(c)}).y1(function(t){return a(r(t))})},r.d3=function(){return t},r},barWidth:u,scaledStrokeWidth:function(t,n,e){return n=n||1,e=e||1,function(){return Math.min(n,u(t)/e)+"px"}},joinPath:function(t){return function(n){return i(n.map(t())," ")}},interaction:{mousedispatch:function(t){return function(n){return n.on("mouseenter",function(n){r(this.parentNode).classed("mouseover",!0),t.call("mouseenter",this,n)}).on("mouseleave",function(n){var e=r(this.parentNode);e.classed("dragging")||(e.classed("mouseover",!1),t.call("mouseout",this,n))}).on("mousemove",function(n){t.call("mousemove",this,n)})}},dragStartEndDispatch:function(t,n){return t.on("start",function(t){r(this.parentNode.parentNode).classed("dragging",!0),n.call("dragstart",this,t)}).on("end",function(t){r(this.parentNode.parentNode).classed("dragging",!1),n.call("dragend",this,t)})}},plotComposer:function(){var t,n,e=a(),c=[],o=function(t){return t.scale()};function u(t){e.mapper(function(){return c.map(function(){return[]})})(t).selection.each(function(t,n){c[n](r(this))}),u.refresh(t)}return u.refresh=function(a){e.select(a).data(function(e){var r=n(e);if(null==r)return c.map(function(){return[]});var a=t(r);return c.map(function(n){return[{value:o(n)===t?r:o(n).invert(a)}]})}).each(function(t,n){c[n](r(this))})},u.plots=function(t){return arguments.length?(c=t,u):c},u.scale=function(n){return arguments.length?(t=n,u):t},u.accessor=function(t){return arguments.length?(n=t,u):n},u.scope=function(t){return arguments.length?(e.scope(t),u):e.scope()},u.plotScale=function(t){return arguments.length?(o=t,u):o},u}}}},{}],50:[function(t,n,e){"use strict";n.exports=function(t,n,e,r,a){var c=function(c,o){var u={dataSelector:function(t,n){return o.dataSelector=r(t).key(n),u},xScale:function(t){return o.xScale=e(),c.xScale=function(n){return arguments.length?(o.xScale=n,t&&t(),c):o.xScale},u},yScale:function(n){return o.yScale=t(),c.yScale=function(t){return arguments.length?(o.yScale=t,n&&n(),c):o.yScale},u},accessor:function(t,n){return o.accessor=t,c.accessor=function(t){return arguments.length?(o.accessor=t,n&&n(),c):o.accessor},u},width:function(t){return o.width=a,c.width=function(e){return arguments.length?(o.width=n(e),t&&t(),c):o.width},u},on:function(t,n){return c.on=function(e,r){return t.on(e,r),n&&n(),c},u},plot:function(t,n){return u.xScale(n).yScale(n).accessor(t,n)}};return u};return c.dataMapper=r.mapper,c}},{}],51:[function(t,n,e){"use strict";n.exports=function(t,n,e){return function(){var r={},a=n.pathLine();function c(t){var n=r.dataSelector(t);n.entry.append("path").attr("class","overbought"),n.entry.append("path").attr("class","middle"),n.entry.append("path").attr("class","oversold"),n.entry.append("path").attr("class","rsi"),c.refresh(t)}function o(){a.init(r.accessor.d,r.xScale,r.accessor.r,r.yScale)}return c.refresh=function(t){var e,c,o,u,i,s;e=r.dataSelector.select(t),c=r.accessor,o=r.xScale,u=r.yScale,i=n,s=a,e.select("path.overbought").attr("d",i.horizontalPathLine(c.d,o,c.ob,u)),e.select("path.middle").attr("d",i.horizontalPathLine(c.d,o,c.m,u)),e.select("path.oversold").attr("d",i.horizontalPathLine(c.d,o,c.os,u)),e.select("path.rsi").attr("d",s)},e(c,r).plot(t(),o).dataSelector(e.dataMapper.array),o(),c}}},{}],52:[function(t,n,e){"use strict";n.exports=function(t,n,e){return function(){var r={},a=n.pathLine(),c=n.pathLine();function o(t){var n=r.dataSelector(t);n.entry.append("path").attr("class","overbought"),n.entry.append("path").attr("class","oversold"),n.entry.append("path").attr("class","stochastic k"),n.entry.append("path").attr("class","stochastic d"),o.refresh(t)}function u(){a.init(r.accessor.d,r.xScale,r.accessor.k,r.yScale),c.init(r.accessor.d,r.xScale,r.accessor.sd,r.yScale)}return o.refresh=function(t){var e,o,u,i,s,l,d;e=r.dataSelector.select(t),o=r.accessor,u=r.xScale,i=r.yScale,s=n,l=a,d=c,e.select("path.overbought").attr("d",s.horizontalPathLine(o.d,u,o.ob,i)),e.select("path.oversold").attr("d",s.horizontalPathLine(o.d,u,o.os,i)),e.select("path.stochastic.k").attr("d",l),e.select("path.stochastic.d").attr("d",d)},e(o,r).plot(t(),u).dataSelector(e.dataMapper.array),u(),o}}},{}],53:[function(t,n,e){"use strict";function r(t,n,e,r,c){t.select(".supstance path").attr("d",a(n,e,r)),t.select(".interaction path").attr("d",a(n,e,r)),t.select(".axisannotation.y").call(c.refresh)}function a(t,n,e){return function(r){var a,c;return void 0!==(c=t).s&&void 0!==c.e?((a=[t.s(r),t.e(r)])[0]=void 0!==a[0]?n(a[0]):n.range()[0],a[1]=void 0!==a[1]?n(a[1]):n.range()[1]):a=n.range(),"M "+a[0]+" "+e(t(r))+" L "+a[a.length-1]+" "+e(t(r))}}n.exports=function(t,n,e,a,c,o,u){return function(){var i={},s=a("mouseenter","mouseout","mousemove","drag","dragstart","dragend"),l=o.plotComposer().scope("composed-annotation").plotScale(function(t){return t.axis().scale()});function d(t){var n=i.dataSelector(t);n.entry.append("g").attr("class","supstance").append("path"),n.entry.append("g").attr("class","axisannotation y").call(l),n.entry.append("g").attr("class","interaction").style("opacity",0).style("fill","none").call(o.interaction.mousedispatch(s)).append("path").style("stroke-width","16px"),d.refresh(t)}function f(){return l.accessor(i.accessor.v).scale(i.yScale),d}return d.refresh=function(t){r(i.dataSelector.select(t),i.accessor,i.xScale,i.yScale,l)},d.drag=function(a){var c,u,d,f,p,h;a.selectAll(".interaction path").call((c=s,u=i.accessor,d=i.xScale,f=i.yScale,p=l,h=t().subject(function(t){return{x:0,y:f(u(t))}}).on("drag",function(t){var a=f.invert(n().y),o=e(this.parentNode.parentNode);u.v(t,a),r(o,u,d,f,p),c.call("drag",this,t)}),o.interaction.dragStartEndDispatch(h,c)))},d.annotation=function(t){return arguments.length?(l.plots(t instanceof Array?t:[t]),d):l.plots()},u(d,i).dataSelector(u.dataMapper.unity).plot(c(),f).on(s),i.dataSelector.scope("supstance"),f()}}},{}],54:[function(t,n,e){"use strict";n.exports=function(t,n,e,r,a){return function(){var t,n,c={};function o(t){c.dataSelector(t).entry.append("path").attr("class","tick"),o.refresh(t)}function u(){t=r.joinPath(i),n=r.scaledStrokeWidth(c.xScale,1,2)}function i(){var t=c.accessor,n=c.xScale,e=c.yScale,r=c.width(n);return function(a){var c=e(t.h(a)),o=e(t.l(a)),u=n(t.d(a)),i=u-r/2;return"M "+i+" "+c+" l "+r+" 0 M "+u+" "+c+" L "+u+" "+o+" M "+i+" "+o+" l "+r+" 0"}}return o.refresh=function(e){c.dataSelector.select(e).select("path.tick").attr("d",t).style("stroke-width",n)},a(o,c).plot(e(),u).width(u).dataSelector(a.dataMapper.array),u(),o}}},{}],55:[function(t,n,e){"use strict";function r(t,n){Object.keys(n).forEach(function(e){t.classed(e,n[e])})}n.exports=function(t,n,e,a,c,o,u,i){return function(){var s,l={},d=a("mouseenter","mouseout"),f=function(t){return l.yScale(l.accessor.p(t))},p=i().orient(function(t){return"buy"===l.accessor.t(t)?"up":"down"});function h(n){var a=l.dataSelector(n),c=n.datum().map(function(t){return l.accessor.t(t)}).reduce(function(t,n){return void 0===t[n]&&(t[n]=function(t){return n===l.accessor.t(t)}),t},{});o.appendPathsGroupBy(a.selection,l.accessor,"tradearrow",c),a.entry.append("path").attr("class","highlight").style("pointer-events","none"),a.selection.selectAll("path.tradearrow").on("mouseenter",function(n){var a=m(n,e(this)[0]);t(this.parentNode).select("path.highlight").datum(a.d).attr("d",p).call(r,c),d.call("mouseenter",this,a.d,a.i)}).on("mouseout",function(n){t(this.parentNode).selectAll("path.highlight").datum([]).attr("d",null).attr("class","highlight");var r=m(n,e(this)[0]);d.call("mouseout",this,r.d,r.i)}),h.refresh(n)}function v(){return p.x(function(t){return l.xScale(l.accessor.d(t))}).y(f),s=o.joinPath(function(){return p}),h}function m(t,n){return t.map(function(t,n){return{d:t,i:n,x:l.xScale(l.accessor.d(t))}}).reduce(function(t,e){return Math.abs(t.x-n)<Math.abs(e.x-n)?t:e})}return h.refresh=function(t){t.selectAll("path.tradearrow").attr("d",s)},h.orient=function(t){return arguments.length?(p.orient(t),v()):p.orient()},h.y=function(t){return arguments.length?(f=n(t),v()):f},h.arrow=function(){return p},u(h,l).plot(c(),v).on(d).dataSelector(u.dataMapper.array),v(),h}}},{}],56:[function(t,n,e){"use strict";function r(t,n,e,r){var o,u,i;t.selectAll("path.body").attr("d",(o=n,u=e,i=r,function(t){return"M "+u(o.sd(t))+" "+i(o.sv(t))+" L "+u(o.ed(t))+" "+i(o.ev(t))})),t.selectAll("circle.start").attr("cx",a(n.sd,e)).attr("cy",c(n.sv,r)),t.selectAll("circle.end").attr("cx",a(n.ed,e)).attr("cy",c(n.ev,r))}function a(t,n){return function(e){return n(t(e))}}function c(t,n){return function(e){return n(t(e))}}n.exports=function(t,n,e,a,c,o,u){function i(a,c,u,i,l,d){var f=t();return f.subject(function(t){return{x:i(u(t)),y:d(l(t))}}).on("drag",function(t){s(u,i,n().x,l,d,n().y,t),r(e(this.parentNode.parentNode.parentNode),c,i,d),a.call("drag",this,t)}),o.interaction.dragStartEndDispatch(f,a)}function s(t,n,e,r,a,c,o){var u=n.invert(e);null!=u&&t(o,u),r(o,a.invert(c))}return function(){var l={},d=a("mouseenter","mouseout","mousemove","drag","dragstart","dragend");function f(t){var n=l.dataSelector(t),e=n.entry.append("g").attr("class","trendline");e.append("path").attr("class","body"),e.append("circle").attr("class","start").attr("r",1),e.append("circle").attr("class","end").attr("r",1);var r=n.entry.append("g").attr("class","interaction").style("opacity",0).style("fill","none").call(o.interaction.mousedispatch(d));r.append("path").attr("class","body").style("stroke-width","16px"),r.append("circle").attr("class","start").attr("r",8),r.append("circle").attr("class","end").attr("r",8),f.refresh(t)}return f.refresh=function(t){r(l.dataSelector.select(t),l.accessor,l.xScale,l.yScale)},f.drag=function(a){var c,u,f,p,h,v;a.selectAll(".interaction circle.start").call(i(d,l.accessor,l.accessor.sd,l.xScale,l.accessor.sv,l.yScale)),a.selectAll(".interaction circle.end").call(i(d,l.accessor,l.accessor.ed,l.xScale,l.accessor.ev,l.yScale)),a.selectAll(".interaction path.body").call((c=d,u=l.accessor,f=l.xScale,p=l.yScale,h={},(v=t()).subject(function(t){return h.start={date:f(u.sd(t)),value:p(u.sv(t))},h.end={date:f(u.ed(t)),value:p(u.ev(t))},{x:0,y:0}}).on("drag",function(t){s(u.sd,f,n().x+h.start.date,u.sv,p,n().y+h.start.value,t),s(u.ed,f,n().x+h.end.date,u.ev,p,n().y+h.end.value,t),r(e(this.parentNode.parentNode.parentNode),u,f,p),c.call("drag",this,t)}),o.interaction.dragStartEndDispatch(v,c)))},u(f,l).dataSelector(u.dataMapper.unity).plot(c()).on(d),f}}},{}],57:[function(t,n,e){"use strict";n.exports=function(t,n,e){return function(){var r,a={};function c(t){var e=a.dataSelector(t);u()?n.appendPathsUpDownEqual(e.selection,a.accessor,"volume"):e.entry.append("path").attr("class","volume"),c.refresh(t)}function o(){r=n.joinPath(i)}function u(){return a.accessor.o&&a.accessor.c}function i(){var t=a.accessor,n=a.xScale,e=a.yScale,r=a.width(n);return function(a){var c=t.v(a);if(isNaN(c))return null;var o=e(0),u=e(c)-o;return"M "+(n(t.d(a))-r/2)+" "+o+" l 0 "+u+" l "+r+" 0 l 0 "+-u}}return c.refresh=function(t){u()?t.selectAll("path.volume").attr("d",r):a.dataSelector.select(t).select("path.volume").attr("d",r)},e(c,a).plot(t(),o).width(o).dataSelector(e.dataMapper.array),o(),c}}},{}],58:[function(t,n,e){"use strict";n.exports=function(t,n,e){return function(){var r={},a=n.pathLine();function c(t){r.dataSelector(t).entry.append("path").attr("class","williams up"),c.refresh(t)}function o(){a.init(r.accessor.d,r.xScale,r.accessor.w,r.yScale)}return c.refresh=function(t){r.dataSelector.select(t).select("path.williams.up").attr("d",a)},e(c,r).plot(t(),o).dataSelector(e.dataMapper.array),o(),c}}},{}],59:[function(t,n,e){"use strict";function r(t){return function(n){for(var e=0;e<t.length;e++)if(t[e][1](n))return t[e][0](n)}}n.exports=function(t,n,e,a,c,o){function u(n,r,p,h,v,m,g,S,y){var x,w={tickFormat:n.daily[n.daily.length-1][2]},k=3;function b(t,n){var r=x[t instanceof Date?t.getTime():+t];return n=n||0,void 0===r&&(r=h[0]>t?-1:e(h,t)),p(r+n)}function M(){var t,n,e;return t=p,n=h,e=v,k=Math.abs(t(n.length-1)-t(0))/Math.max(1,n.length-1)*(1-e),b}function L(){x=i(h)}function D(){return L(),p.domain([0,h.length-1]),M(),p.domain(p.range().map(c(m,k)).map(p.invert)),g.domain=p.domain(),M()}function z(t,a,c){if(1==t.length)return r;var o,u=t[t.length-1]-t[0],i=u/l<1,s=i?n.intraday:n.daily,p=i?f:d,h=u/Math.min(Math.round((o=a,t.length/(o[o.length-1]-o[0])*c)),c),v=e(p,h);return v==s.length?s[v-1]:v?s[h/p[v-1]<p[v]/h?v-1:v]:s[v]}return p=p||t(),h=h||[new Date(0),new Date(1)],v=void 0===v?.2:v,m=void 0===m?.65:m,g=g||{domain:p.domain()},S=S||!1,y=y||o(p,M,g),b.invert=function(t){var n=h[b.invertToIndex(t)];return n||null},b.invertToIndex=function(t){return Math.round(p.invert(t))},b.domain=function(t){if(!arguments.length){var n=p.domain();return n[0]<0&&n[n.length-1]<0?[]:(n=[Math.max(Math.ceil(n[0]),0),Math.min(Math.floor(n[n.length-1]),h.length-1)],h.slice(n[0],n[n.length-1]+1))}return h=t,D()},b.copy=function(){return u(n,r,p.copy(),h,v,m,g,S)},b.band=function(){return k},b.outerPadding=function(t){return arguments.length?(m=t,D()):m},b.padding=function(t){return arguments.length?(v=t,D()):v},b.zoomable=function(){return y},b.ticks=function(t,n){var r=b.domain(),a=p.domain();if(!r.length)return[];var c,o,u,l=void 0===t?z(r,a,10):"number"==typeof t?z(r,a,t):null;return w.tickFormat=l?l[2]:z(r,a,10)[2],l&&(t=l[0],n=l[1]),t.every(n).range(r[0],+r[r.length-1]+1).map((c=r,o=S,u=i(c),function(t){var n=u[+t];if(void 0!==n)return c[n];var r=e(c,t);return o&&r>0&&+t-+c[r-1]<+c[r]-+t&&r--,c[r]})).reduce(s,[])},b.closestTicks=function(t){return arguments.length?(S=t,b):S},b.tickFormat=function(){return function(t){return w.tickFormat(t)}},a(b,p,M,"range"),L(),M()}function i(t){var n={};return t.forEach(function(t,e){n[+t]=e}),n}function s(t,n){return 0!==t.length&&t[t.length-1]===n||t.push(n),t}var l=864e5,d=[l,6048e5,2592e6,7776e6,31536e6],f=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5],p=n.timeFormat("%b %e"),h=r([[n.timeFormat("%b %Y"),function(t){return t.getMonth()}],[n.timeFormat("%Y"),function(){return!0}]]),v=r([[n.timeFormat(":%S"),function(t){return t.getSeconds()}],[n.timeFormat("%I:%M"),function(t){return t.getMinutes()}],[n.timeFormat("%I %p"),function(){return!0}]]),m=[n.timeSecond,1,r([[n.timeFormat(":%S"),function(t){return t.getSeconds()}],[n.timeFormat("%I:%M"),function(t){return t.getMinutes()}],[n.timeFormat("%I %p"),function(t){return t.getHours()}],[n.timeFormat("%b %e"),function(){return!0}]])],g=n.utcFormat("%b %e"),S=r([[n.utcFormat("%b %Y"),function(t){return t.getUTCMonth()}],[n.utcFormat("%Y"),function(){return!0}]]),y=r([[n.utcFormat(":%S"),function(t){return t.getUTCSeconds()}],[n.utcFormat("%I:%M"),function(t){return t.getUTCMinutes()}],[n.utcFormat("%I %p"),function(){return!0}]]),x=[n.timeSecond,1,r([[n.utcFormat(":%S"),function(t){return t.getUTCSeconds()}],[n.utcFormat("%I:%M"),function(t){return t.getUTCMinutes()}],[n.utcFormat("%I %p"),function(t){return t.getUTCHours()}],[n.utcFormat("%b %e"),function(){return!0}]])],w=[[n.timeDay,1,p],[n.timeMonday,1,p],[n.timeMonth,1,h],[n.timeMonth,3,h],[n.timeYear,1,h]],k=[[n.timeSecond,1,v],[n.timeSecond,5,v],[n.timeSecond,15,v],[n.timeSecond,30,v],[n.timeMinute,1,v],[n.timeMinute,5,v],[n.timeMinute,15,v],[n.timeMinute,30,v],[n.timeHour,1,v],[n.timeHour,3,v],[n.timeHour,6,v],[n.timeHour,12,v],[n.timeDay,1,p]],b=[[n.utcDay,1,g],[n.utcMonday,1,g],[n.utcMonth,1,S],[n.utcMonth,3,S],[n.utcYear,1,S]],M=[[n.utcSecond,1,y],[n.utcSecond,5,y],[n.utcSecond,15,y],[n.utcSecond,30,y],[n.utcMinute,1,y],[n.utcMinute,5,y],[n.utcMinute,15,y],[n.utcMinute,30,y],[n.utcHour,1,y],[n.utcHour,3,y],[n.utcHour,6,y],[n.utcHour,12,y],[n.utcDay,1,g]];function L(){return u({daily:w,intraday:k},m)}return L.utc=function(){return u({daily:b,intraday:M},x)},L}},{}],60:[function(t,n,e){"use strict";function r(t,n,e,r){return t.scaleLinear().domain((c=t,u=e,i=r,(o=n).length>0?c.extent(o,u).map(a(i)):[]));var c,o,u,i}function a(t,n){return t=t||0,function(e,r,a){if(a.length>2)throw"array.length > 2 unsupported. array.length = "+a.length;return e+(2*r-1)*(n=n||a[a.length-1]-a[0])*t}}function c(t,n){return t.map(n).reduce(function(t,n){return t.concat(n)}).filter(function(t){return null!==t})}n.exports=function(n){var e=t("./zoomable")(),o=t("../util")(),u=t("../accessor")(),i=t("./financetime")(n.scaleLinear,n,n.bisect,o.rebindCallback,a,e);function s(t,e){return e=e||u.ohlc(),n.scaleLinear().domain([n.min(t.map(e.low())),n.max(t.map(e.high()))].map(a(.02)))}function l(t,e,a){return e=e||u.value(),r(n,t,e,a=void 0===a?.02:a)}return{financetime:i,plot:{adx:function(){return n.scaleLinear().domain([0,100])},aroon:function(){return n.scaleLinear().domain([-100,100])},atr:l,atrtrailingstop:function(t,e){e=e||u.atrtrailingstop();var r=c(t,function(t){return[e.up(t),e.dn(t)]});return n.scaleLinear().domain(n.extent(r).map(a(.04)))},bollinger:function(t,e){return e=e||u.bollinger(),n.scaleLinear().domain([n.min(t.map(function(t){return e.lower(t)})),n.max(t.map(function(t){return e.upper(t)}))].map(a(.02)))},candlestick:s,close:l,ema:l,heikinashi:s,ichimoku:function(t,e){e=e||u.ichimoku();var r=c(t,function(n,r){var a=t[r+e.pks(n)],c=t[r-e.pks(n)];return[e.ts(n),e.ks(n),c?e.sa(c):null,c?e.sb(c):null,a?e.c(a):null]});return n.scaleLinear().domain(n.extent(r).map(a(.02)))},macd:function(t,e){return e=e||u.macd(),r(n,t,e,.02)},momentum:l,moneyflow:l,ohlc:s,percent:function(t,n){var e=t.domain();return n=n||e[0],t.copy().domain([e[0],e[e.length-1]].map(function(t){return(t-n)/n}))},roc:l,rsi:function(){return n.scaleLinear().domain([0,100])},sma:l,sroc:l,stochastic:function(){return n.scaleLinear().domain([0,100])},supstance:function(t,e){return e=e||u.supstance(),r(n,t,e.v,.02)},tick:s,time:function(t,n){return n=n||u.value(),i().domain(t.map(n.d))},tradearrow:function(t,e){return e=e||u.trade(),r(n,t,e.p,.02)},trendline:function(t,e){e=e||u.trendline();var r=c(t,function(t){return[e.sv(t),e.ev(t)]});return n.scaleLinear().domain(n.extent(r).map(a(.04)))},volume:function(t,e){return e=e||u.ohlc().v,n.scaleLinear().domain([0,1.15*n.max(t.map(e))])},vwap:l,wilderma:l,williams:function(){return n.scaleLinear().domain([0,100])}}}}},{"../accessor":8,"../util":66,"./financetime":59,"./zoomable":61}],61:[function(t,n,e){"use strict";n.exports=function(){return function t(n,e,r,a){function c(t){return n.apply(n,arguments)}return a=void 0===a||a,c.invert=n.invert,c.domain=function(t){return arguments.length?(a?n.domain([Math.max(r.domain[0],t[0]),Math.min(r.domain[1],t[1])]):n.domain(t),e&&e(),c):n.domain()},c.range=function(t){if(!arguments.length)return n.range();throw"zoomable is a read only range. Use this scale for zooming only"},c.copy=function(){return t(n.copy(),e,r,a)},c.clamp=function(t){return arguments.length?(a=t,c):a},c}}},{}],62:[function(t,n,e){"use strict";n.exports=function(t){return function(){var n=t(0),e=t(0),r=t(12),a=t(15),c=t("up"),o=t(!0);function u(t,u){var i,s=n(t,u),l=e(t,u),d=r(t,u),f=a(t,u),p=c(t,u),h=o(t,u),v="left"===p||"up"===p?1:-1,m=d/3,g=d/2,S=h?f/2:f;switch(i="M "+s+" "+l,p){case"up":case"down":i+=" l "+-g+" "+v*S+" l "+m+" 0",h&&(i+=" l 0 "+v*S),i+=" l "+m+" 0",h&&(i+=" l 0 "+-v*S),i+=" l "+m+" 0";break;case"left":case"right":i+=" l "+v*S+" "+-g+" l 0 "+m,h&&(i+=" l "+v*S+" 0"),i+=" l 0 "+m,h&&(i+=" l "+-v*S+" 0"),i+=" l 0 "+m;break;default:throw"Unsupported arrow.orient() = "+c}return i+" z"}return u.x=function(e){return arguments.length?(n=t(e),u):n},u.y=function(n){return arguments.length?(e=t(n),u):e},u.height=function(n){return arguments.length?(a=t(n),u):a},u.width=function(n){return arguments.length?(r=t(n),u):r},u.orient=function(n){return arguments.length?(c=t(n),u):c},u.tail=function(n){return arguments.length?(o=t(n),u):o},u}}},{}],63:[function(t,n,e){"use strict";n.exports=function(n){return{arrow:t("./arrow")(t("../util")().functor)}}},{"../util":66,"./arrow":62}],64:[function(t,n,e){"use strict";var r,a;if("undefined"!=typeof window)r=window.d3;else{if("object"!=typeof n)throw"Unsupported runtime environment: Could not find d3. Ensure defined globally on window, or available as dependency.";r=t("d3")}n.exports=(a=r,{version:t("../build/version"),accessor:t("./accessor")(),indicator:t("./indicator")(a),plot:t("./plot")(a),scale:t("./scale")(a),svg:t("./svg")(a)})},{"../build/version":1,"./accessor":8,"./indicator":28,"./plot":45,"./scale":60,"./svg":63,d3:"GZdbzh"}],65:[function(t,n,e){"use strict";n.exports=function t(n){var e=[],r=n-1;return t.push=function(t){r=++r%n,e.length<n?e.push(t):e[r]=t},t.get=function(t){return e[(r+e.length-t)%e.length]},t.head=function(){return t.get(0)},t.last=function(){return t.get(e.length-1)},t.size=function(){return n},t.samples=function(){return e},t.primed=function(){return e.length===n},t}},{}],66:[function(t,n,e){"use strict";function r(t,n,e){for(var r,c=2,o=arguments.length;++c<o;)t[r=arguments[c]]=a(t,n,n[r],e);return t}function a(t,n,e,r){return function(){var a=e.apply(n,arguments);return r&&a===n&&r(),a===n?t:a}}n.exports=function(){return{circularbuffer:t("./circularbuffer"),rebindCallback:r,rebind:function(t,n){var e=Array.prototype.slice.call(arguments,0);return e.splice(2,0,void 0),r.apply(this,e)},functor:function(t){return"function"==typeof t?t:function(){return t}}}}},{"./circularbuffer":65}]},{},[64])(64)});